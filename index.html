<!doctype html><head><title>Pixels</title><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-109579764-3"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-109579764-3");</script></head><style>input[tabindex='-1']{box-sizing:border-box;border:none;margin:0;padding:0;width:32px;height:32px;float:left}#b input:nth-child(16n){clear:right;float:none;display:block}input:focus{outline:0}#dl{display:block;clear:both}textarea{resize:none;font:10px monospace}</style><div id=b></div><div id=palette></div><br><div id=dl><input onclick="document.querySelector('textarea').value='https://legend-of-iphoenix.github.io/pixels/?'+dl()"type=button value=Share> <textarea cols=15 disabled id=data rows=10></textarea></div><script>function $(o,t){q=1,i(o,t)}function getMask(o){for(var t="2640022AA54794694C5CCAA8321D4213201801C5263EA198B368E14EEC3EC2C9C96E6E2B6BD76C74B4AE7FDE55CD67CE81125E73C7399AD82969C00724D75B5A".match(/../g).map(o=>o.charCodeAt(0)),n=0;n<o;n++){t.unshift(t.pop())}return t}function dl(){return btoa(b.map((o,t)=>(function(o,t){for(var n="",e=(o=o.map(o=>parseInt(o).toString(2).padStart(3,0)))[0]+o[1]+"0000000000",r=0,a=2;a<16;a+=2){n+=String.fromCharCode(parseInt(e[r]+o[a]+o[a+1],2)^getMask(t+r)[0]),r++}return n})(o,7*t)).join("")).slice(0,-2)}var h=0,q=!1,b=[];function i(o,t,n){(!1!==q||n)&&(document.getElementById(o+"_"+t).style.backgroundColor=0==q||n?"hsl(0,0%,"+Math.floor(h/7*100)+"%)":"#fff",b[o][t]=0==q?h:"7")}function setColor(o){h=o}for(var t=0;t<=15;t++){b.push([]);for(var n=0;n<=15;n++){document.getElementById("b").innerHTML+="<input type='button' id='"+t+"_"+n+"' onclick='i("+t+","+n+", true)' oncontextmenu='$("+t+","+n+");return false' tabindex='-1' onmouseover='i("+t+","+n+")' tabindex='-1'>",b[t].push(7)}t<8&&(document.getElementById("palette").innerHTML+="<input type='button' id='"+t+"' style='background-color: hsl(0,0%,"+Math.floor(t/7*100)+"%);' onclick='setColor("+t+")' tabindex='-1'>")}window.onmousedown=function(o){q=o.button},window.onmouseup=function(o){q=!1},window.onload=function(){var o=location.search;151==o.length&&atob(o.substring(1)+"==").split("").map((o,t)=>{var n=(o.charCodeAt(0)^getMask(t)[0]).toString(2).padStart(7,0);return[n[0],Math.floor(t/7),n.slice(1,4),n.slice(4,7)]}).reduce((o,t)=>(o[t[1]]?o[t[1]].push(t):o[t[1]]=[t],o),[]).map((o,t)=>o.reduce((o,t,n)=>(n<3?o[0]+=t[0]:6!=n&&(o[1]+=t[0]),o[2+2*n]=t[2],o[3+2*n]=t[3],o),[..."0".repeat(16).split("")]).map(o=>parseInt(o,2)).map((o,n)=>{document.getElementById(t+"_"+n).style.backgroundColor="hsl(0,0%,"+Math.floor(o/7*100)+"%)",b[t][n]=o}))};</script>
